chrome.runtime.onInstalled.addListener(function(){console.log("Page Summarizer extension installed")}),chrome.runtime.onMessage.addListener(function(e,t,a){if("saveSummary"===e.action)return chrome.storage.local.get(["page_summaries"],function(t){var n=t.page_summaries||[];n.push({url:e.url,title:e.title,summary:e.summary,timestamp:(new Date).toISOString()}),chrome.storage.local.set({page_summaries:n},function(){a({success:!0})})}),!0}),chrome.tabs.onUpdated.addListener(function(e,t,a){"complete"===t.status&&a.url&&chrome.scripting.executeScript({target:{tabId:e},files:["content.js"]}).catch(function(){})});