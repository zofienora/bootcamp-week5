console.log("Background script loaded"),chrome.runtime.onInstalled.addListener(function(){console.log("Page Summarizer extension installed")}),chrome.runtime.onMessage.addListener(function(e,s,a){if(console.log("Message received:",e),"saveSummary"===e.action)return chrome.storage.local.get(["page_summaries"],function(s){var o=s.page_summaries||[];o.push({url:e.url,title:e.title,summary:e.summary,timestamp:(new Date).toISOString()}),chrome.storage.local.set({page_summaries:o},function(){a({success:!0})})}),!0});